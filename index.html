<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="bulma/css/bulma.css">
    <style>
        .logoimage {
            max-width: 20rem;
            max-height: 5rem;
        }

        .move {
            z-index: 1000;
        }

        @keyframes mymove {
            0% {
                top: 100px;
            }

            50% {
                top: 400px;
            }

            100% {
                top: 100px;
            }
        }
    </style>
</head>
<nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
        <a class="navbar-item" href="index.html">
            <h1>Minecraft Server Tutorial</h1>
        </a>

        <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
    </div>

    <div id="navbarBasicExample" class="navbar-menu">
        <div class="navbar-start">
            <a href="http://e-mis.cz" class="navbar-item">
                Naše oblíbená stránka
            </a>
        </div>
    </div>
</nav>
<div class="container">
    <div class="content">

        <h1 class="move" style="text-align: center;" id="jak-nainstalovat-minecraftový-server">Jak nainstalovat minecraftový
            server</h1>
        <figure>
            <img src="images/mc.jpg" class="image" style="max-height: 66wh;">
        </figure>
        <h2 id="předpoklady">Předpoklady</h2>
        <ul>

            <ul>
                <li>Fyzický počítač nebo VPS s operačním systémem Windows, GNU/Linux, Mac OS, FreeBSD, OpenBSD nebo
                    Androidem</li>
                <blockquote>VPS je Virtuální Privátní Server. Ten běží na fyzickém počítače v datovém centru, ale dělí
                    se o
                    obrovský výkon s ostatními virtuálními servery. Každý uživatel tak má část prostředků, které fyzický
                    server nabízí.</blockquote>
                <li>Nejlépe alespoň 4GB RAM a procesor s dobrým jednojádrovým výkonem</li>
                <li>Rychlé připojení k internetu v obou směrech (nejlépe alespoň 50MB/s)</li>
                <li>Přístup k nastavení routeru (není nutné u VPS)</li>
                <li>Základní znalost příkazového řádku v operačním systému, který jste si zvolili</li>
                <li>Veřejnou IP adresu (pokud chcete, aby se k serveru dalo připojit z internetu)</li>
            </ul>

        </ul>
        <figure>
            <img src="images/server.jpg" class="image" style="max-height: 400px;">
            <figcaption>
                Jak by váš server mohl vypadat
            </figcaption>
        </figure>
        <h3 id="1-vyberte-si-server">1. Vyberte si server</h3>
        <p>Pro Minecraft existuje velké množství různých serverů, drtivá většina z nich založených na oficiálním
            Minecraftovém serveru napsaném v Javě. Většina těch, které na oficiálním serveru založené nejsou jsou
            nekompletní nebo zastaralé, většinou používané ve velmi technicky náročných scénářích, se kterými se
            pravděpodobně nesetkáte, proto se o nich v tomto tutoriálu nebudu zmiňovat.</p>
        <p>Než ale začneme, musíte se rozhodnout zdali chcete aby se mohli připojit hráči s oficiálním, neupraveným
            klientem Minecraftu, nebo zdali chcete hrát s modifikacemi, které nejde implementovat čistě na serveru.
            Instalací modifikací ztratíte část potenciálních hráčů, kteří si použité modifikace nebudou ochotní
            nainstalovat, ale umožní vám si server více do hloubky přizpůsobit. Pro hraní s modifikacemi, které jsou
            nekompatibilní s oficiálním Minecraftem jsou vhodné následující servery:</p>
        <ul>
            <img src="images/logos/logoForge.svg" class="logoimage">
            <li>
                <a href="https://files.minecraftforge.net/net/minecraftforge/forge/">Forge</a> - Načítač modifikací s
                dlouhou historií a velkou knihovnou modifikací, ale typicky pomalejším výkonem než oficiální server,
                zvláště u velkých modpacků, často se používá se staršími verzemi Minecraftu
            </li><img src="images/logos/logoFabric.png" class="logoimage">
            <li><a href="https://fabricmc.net/">Fabric</a> -
                Načítač modifikací nekompatibilní s Forge, napsaný tak, aby
                byl výkonnější než Forge a se správnými modifikacemi mnohem rychlejší než i oficiální server, má menší
                knihovnu modifikací, většina z nich pro nejnovější verzi Minecraftu</li><img
                src="images/logos/logoQuilt.svg" class="logoimage">
            <li><a href="https://quiltmc.org/en/">Quilt</a> - Načítač modifikací založený na Fabric, aktuálně
                kompatibilní s ním, zatím se příliš nedoporučuje používat, jelikož je v ranné fázi vývoje</li>
        </ul>
        <p>Dále existují servery, pro které není potřeba speciální klient</p>
        <ul>
            <li><a href="https://www.minecraft.net/en-us/download/server">Oficiální server Minecraftu</a> - Nedoporučuje
                se používat kvůli špatnému výkonu, telemetrii, špatné rozšiřitelnosti a funkcím reportování hráčů</li>
            <li>Bukkit - Jeden z prvních neoficiálních serverů (už neaktualizovaný), zakládá se na něm Spigot, Paper,
                Purpur a další, které jsou s ním kompatibilní, nedoporučuje se používat kvůli jeho zastaralosti a
                omezenosti, na rozdíl od &quot;modů&quot; je rozšiřován &quot;pluginy&quot;</li>
            <li><a href="https://www.spigotmc.org/">Spigot</a> - Založený na Bukkitu, rozšiřuje jej o dodatečné API,
                podporuje většinu dostupných pluginů</li>
            <li><a href="https://papermc.io/">Paper</a> - Modifikace Spigotu s cílem většího výkonu a bezpečnosti,
                přidává další API, může být problematický pokud jde o perfektní kompatibilitu s oficiálním Minecraftem
                (opravuje některé chyby na kterých závisí některé redstonové stroje)</li>
            <li><a href="https://purpurmc.org/">Purpur</a> - Další rozšíření Paperu o další API s ještě agresivnějšími
                optimalizacemi</li>
            <li><a href="https://fabricmc.net/">Fabric</a> a <a href="https://quiltmc.org/en/">Quilt</a> - Pokud
                použijete pouze serverové modifikace, kterých je pro Fabric a Quilt velké množství, můžete dosáhnout
                velkých výkonů na serveru, který je velmi kompatibilní s oficiálním serverem, lze také jednoduše
                zamaskovat jako oficiální server</li>
            <li><a href="https://spongepowered.org/">Sponge</a> - Alternativní server s API pro pluginy, které je
                modernější, ale nekompatibilní s žádným jiným načítačem pluginů, proto má menší knihovnu</li>
        </ul>
        <p>Ve chvíli co jste si vybrali server, který chcete je potřeba stáhnout si jeho serverový .jar soubor. Tyto
            soubory lze typicky stáhnout z jejich oficiálních stránek, až na Spigot, který kvůli obavám z autorských
            práv vyžaduje aby si každý uživatel <a href="#">sám sestavil Spigot</a>.</p>
        <h2 id="2-nainstalujte-javu">2. Nainstalujte Javu</h2>
        <p>Jelikož je Minecraft program založený na Javě, je potřeba nainstalovat Javu na počítač, který bude server
            spouštět. Toto není tak jednoduché, jak by se mohlo zdát, jelikož existuje mnoho variant Javy. Dvě hlavní
            jsou ty vyráběné od Oracle:</p>
        <ul>
            <li><a href="https://www.java.com/en/">Java SE</a> - původní, nesvobodná, ale bezplatná verze Javy, tuto
                verzi má nainstalovanou většina uživatelů Windows, má delší dobu podpory než OpenJDK</li>
            <li><a href="https://openjdk.org/">OpenJDK</a> - výkonově a funkčně téměř identická verze Javy pod svobodnou
                licencí, rovněž bezplatná, tuto verzi používá oficiální Minecraftový spouštěč</li>
        </ul>
        <p>Dále nabízí mnoho firem upravené verze OpenJDK s podporou srovnatelnou nebo delší než Java SE. Pro tento
            návod je jedno, kterou variantu využijete, ale ideálně nainstalujte pro servery pro novější verzi Minecraftu
            verzi 17, jelikož pro tuto verzi je Minecraft navržen a je dlouhodobě podporovaná. V tomto návodu si ukážeme
            jak nainstalovat OpenJDK. Tato instalace je ale jiná pro každý operační systém.</p>
        <h3 id="gnulinux">GNU/Linux</h3>
        <p>Většina distribucí GNU/Linuxu nabízí OpenJDK ve svých oficiálních repozitářích. Je proto vhodné nainstalovat
            OpenJDK ze svého oficiálního repozitáře. Níže jsou příkazy pro různé z nich:</p>
        <ul>
            <li>Debian, Ubuntu: <code>sudo apt install openjdk-17-jdk</code></li>
            <li>Arch Linux: <code>sudo pacman -S jdk17-openjdk</code></li>
            <li>Fedora: <code>sudo dnf install java-17-openjdk-devel.x86_64</code></li>
        </ul>
        <p>Dříve, než tak ale učiníte je dobré aktualizovat repozitáře a systém pomocí příkazů, které se liší pro každou
            distribuci:</p>
        <ul>
            <li>Debian, Ubuntu: <code>sudo apt update &amp;&amp; sudo apt upgrade</code></li>
            <li>Arch Linux: <code>sudo pacman -Syu</code></li>
            <li>Fedora: <code>sudo dnf upgrade</code></li>
        </ul>
        <p>Dále pokud nemáte root přístup k vašemu operačnímu systému, můžete stáhnout a rozbalit Javu do vaší domovské
            složky z .tar.gz archivu. Jelikož se nedoporučuje stahovat verzi přímo od Oracle, v tomto tutoriálu můžete
            použít <a href="https://adoptium.net/temurin/releases/">Adoptium JDK</a>.</p>
        <h3 id="windows">Windows</h3>
        <p>Jelikož se nedoporučuje stahovat verzi přímo od Oracle, v tomto tutoriálu můžete použít <a
                href="https://adoptium.net/temurin/releases/">Adoptium JDK</a>. Stránka nabízí .msi instalátor pro
            systémovou instalaci (doporučuje se použít, pokud máte administrátorské práva) nebo soubor .zip obsahující
            všechny soubory, které můžete rozbalit do domovského adresáře.</p>
        <h3 id="mac-os">Mac OS</h3>
        <p>Pokud používáte balíčkový systém <a href="https://brew.sh/">Homebrew</a>, stačí použít příkaz
            <code>brew install openjdk@17</code>, případně pro instalaci Homebrew příkaz
            <code>/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;</code>
        </p>
        <p>Pokud ale již máte Homebrew nainstalovaný, doporučujeme předem vše aktualizovat pomocí příkazu
            <code>brew upgrade</code>
        </p>
        <p>Pokud nechcete používat Homebrew, můžete nainstalovat z <a
                href="https://adoptium.net/temurin/releases/">Adoptium JDK</a> soubory .pkg pro systémovou instalaci a
            .tar.gz, který můžete rozbalit do domovského adresáře v systémech, na kterých nemáte administrátorský
            přístup.</p>
        <h3 id="android">Android</h3>
        <p>VAROVÁNÍ: I když Android technicky podporuje instalaci Javy a Minecraft Java serveru, výkon většiny
            Androidových zařízení není dostatečný pro jeho plynulý výkon.</p>
        <p>Jelikož výchozí Android neobsahuje prostředí pro instalaci Javy kompatibilní s OpenJDK, musíme do zařízení
            toto rozumné prostředí nainstalovat. V tomto návodu použijeme Termux. <a
                href="https://github.com/termux/termux-app/releases">Na této stránce</a> najděte nejnovější verzi
            Termuxu (tu nahoře) a vyberte verzi s vaším ABI. Pokud nevíte co ABI znamená, nevadí, můžete buď stáhnout
            větší verzi &quot;universal&quot;, která bude fungovat na všech zařízeních podporovaných Termuxem, můžete si
            tipnout, že vaše ABI bude arm64 (na většině telefonů a tabletů jsou ARM čipy), nebo si stáhnout jednu z
            mnoha &quot;CPU info&quot; aplikací, která vám tuto informaci řekne.</p>
        <p>Jakmile budete mít soubor stažený, otevřete jej v instalátoru aplikací a nainstalujte ji. Je pravděpodobné,
            že si Android bude stěžovat na instalaci aplikací z neznámého zdroje, toto povolte. Jelikož je proces
            povolování instalace neznámých aplikací na různých zařízeních a různých verzích Androidu jiný, nebudu jej
            vysvětlovat.</p>
        <p>Až budete mít na zařízení Termux nainstalovaný, otevřete jej a počkejte než stáhne svůj souborový systém. Až
            dokončí práci, měli by jste se nacházet na obrazovce s terminálem. V tuto chvíli můžete zadat příkaz
            <code>pkg i -y openjdk-17</code>, který nainstaluje Javu.
        </p>
        <h3 id="freebsd">FreeBSD</h3>
        <p>FreeBSD nabízí OpenJDK ve svých repozitářích a proto se doporučuje nainstalovat příkazem
            <code>pkg install -y openjdk17</code>. Než tak ale učiníte, použijte příkaz
            <code>pkg update &amp;&amp; pkg upgrade</code> k aktualizaci systému.
        </p>
        <h3 id="openbsd">OpenBSD</h3>
        <p>Pokud používáte OpenBSD, zřejmě umíte taky nainstalovat OpenJDK.</p>
        <h2 id="3-zkontrolujte-instalaci-javy">3. Zkontrolujte instalaci Javy</h2>
        <p>Než budeme pokračovat, doporučujeme v terminálu vyzkoušet příkaz <code>java --version</code>. Pokud vám tento
            příkaz vrací užitečné informace, dokončili jste proces instalace správně. Pokud příkaz nebyl nalezen i přes
            dodržení návodu, znamená to, že nemáte instalaci Javy v proměnné prostředí <code>PATH</code>.</p>
        <h2 id="4-stáhněte-si-server">4. Stáhněte si server</h2>
        <p>V sekci 1. jste si vybrali minecraftový server, který chcete používat. Nyní, pokud jste si nevybrali Spigot,
            otevřete webovou stránku, na kterou tento návod odkazuje a stáhněte verzi serveru (bývá ve formátu Java
            Archive - s příponou .jar), kterou chcete používat.</p>
        <p>Pokud příponu .jar nevidíte, zřejmě používáte operařní systém Windows a nemáte zapnuté zobrazování přípon. To
            můžete zapnout na Windows 10 otevřením karty Zobrazení a zaškrknutím zaškrtávacího políčka zobrazit přípony
            souborů. Na Windows 11 to stejné můžete najít pod tlačítkem zobrazení.</p>
        <p>Vytvořte pak nový adresář kdekoli na počítači, kam máte přístup a právě stažený .jar soubor uložte do něj.
            Kvůli zbytku tutoriálu doporučujeme také soubor přejmenovat na server.jar, pokud nechcete upravovat
            spouštěcí shellový skript.</p>
        <p>Pokud používáte Spigot, uložte do této složky soubor BuildTools.jar, o kterém se mluví více v další sekci.
        </p>
        <h2 id="5-získejte-spigot">5. Získejte Spigot</h2>
        <p>Pokud vám nevadí potenciální riziko a možná zastaralost sestavení Spigotu, který se dá stáhnout jako jakýkoli
            jiný server, ale od stránek třetích stran, můžete jej stáhnout na stránkách jako např. <a
                href="https://getbukkit.org/">GetBukkit</a>. Spigot totiž od originálních vývojářů nedostanete ve
            spustitelné formě, ale jako sérii záplat pro oficiální server. Pokud těmto stránkách nevěříte, nebo chcete
            verzi Spigotu, kterou tyto stránky nenabízejí, můžete udělat tyto kroky:</p>
        <ol>
            <li>Z <a
                    href="https://hub.spigotmc.org/jenkins/job/BuildTools/lastStableBuild/artifact/target/BuildTools.jar">této
                    stránky</a> stáhněte nejnovější verzi sestavovacích nástrojů (BuildTools.jar). Přesuňte jej do
                složky, kterou jste vytvořili v minulém kroku.</li>
            <li>Ve složce, kde jste soubor přesunuli, spusťte příkaz <code>java -jar BuildTools.jar --rev 1.19.4</code>,
                kde 1.19.4 nahraďte verzí Minecraftu, pro kterou chcete server sestavit.</li>
            <li>Počkejte než proces dokončí práci. Tento krok může trvat několik minut, v závislosti na výkonu a
                rychlosti připojení k internetu vašeho počítače.</li>
            <li>Na konci tohoto procesu by ve vaší složce být soubor se jménem zhruba jako spigot-1.19.4.jar. Tento
                soubor doporučujeme přejmenovat na server.jar, kvůli zbytku tutoriálu.</li>
        </ol>
        <h2 id="6-spusťte-server">6. Spusťte server</h2>
        <p>V tuto chvíli máte stažený Minecraftový server, jeho spouštění ale není tak jednoduché, jako dvojklik,
            jelikož je nutné vytvořit skript, který ho spustí s parametry vhodnými pro počítač, který jej bude spouštět.
        </p>
        <p>V závislosti na operačním systému bude mít skript jinou příponu, pro Windows vytvořte soubor start.bat a pro
            ostatní systémy vytvořte soubor start.sh. Nyní otevřete tento soubor v rozumném textovém editoru pro planý
            text (ne Word) pro váš operační systém.</p>
        <p>Do tohoto souboru vložte příkaz ve tvaru <code>java -Xms16G -Xmx16G -jar server.jar nogui</code>, kdy
            nahraďíte 16G počtem gigabytů paměti, kterou jste ochotní svému serveru přidělit a server.jar názvem souboru
            serveru, doporučujeme ale použít minimálně 4.</p>
        <p>Pokud používáte Windows, můžete nyní spustit tento skript spuštěním příkazu <code>start</code> ve složce, ve
            které se nachází, nebo dvojklikem na něj. Pokud používáte jakýkoli jiný operační systém v tomto návodu,
            musíte ještě umožnit spuštění tohoto skriptu pomocí příkazu <code>chmod +x start.sh</code> a spouštět ho pak
            pomocí příkazu <code>./start.sh</code> ve složce, kde se soubor start.sh nachází.</p>
        <h2 id="7-udělte-souhlas-s-eula-a-nakonfigurujte-server">7. Udělte souhlas s EULA a nakonfigurujte server</h2>
        <p>Po prvním spuštěním serveru se vygeneruje několik souborů. Jeden z těchto souborů je eula.txt. Tento soubor
            značí, že souhlasíte s podmínkami použití serveru, které si můžete (v angličtině) přečíst <a
                href="https://www.minecraft.net/en-us/eula">zde</a>.</p>
        <p>Hlavní konfigurační soubor Minecraftového serveru je server.properties. Toto je jeho výchozí stav ve verzi
            1.19.4:</p>
        <pre>
        <code>
        enable-jmx-monitoring=false
        rcon.port=25575
        level-seed=
        gamemode=survival
        enable-command-block=false
        enable-query=false
        generator-settings={}
        enforce-secure-profile=true
        level-name=world
        motd=A Minecraft Server
        query.port=25565
        pvp=true
        generate-structures=true
        max-chained-neighbor-updates=1000000
        difficulty=easy
        network-compression-threshold=256
        max-tick-time=60000
        require-resource-pack=false
        use-native-transport=true
        max-players=20
        online-mode=true
        enable-status=true
        allow-flight=false
        initial-disabled-packs=
        broadcast-rcon-to-ops=true
        view-distance=10
        server-ip=
        resource-pack-prompt=
        allow-nether=true
        server-port=25565
        enable-rcon=false
        sync-chunk-writes=true
        op-permission-level=4
        prevent-proxy-connections=false
        hide-online-players=false
        resource-pack=
        entity-broadcast-range-percentage=100
        simulation-distance=10
        rcon.password=
        player-idle-timeout=0
        force-gamemode=false
        rate-limit=0
        hardcore=false
        white-list=false
        broadcast-console-to-ops=true
        spawn-npcs=true
        spawn-animals=true
        function-permission-level=2
        initial-enabled-packs=vanilla
        level-type=minecraft\:normal
        text-filtering-config=
        spawn-monsters=true
        enforce-whitelist=false
        spawn-protection=16
        resource-pack-sha1=
        max-world-size=29999984
        </code></pre>
        <p>V tomto souboru je několik položek, které je vhodné upravit, než server spustíte.</p>
        <table>
            <thead>
                <tr>
                    <th>Jméno vlastnosti</th>
                    <th>Popis</th>
                    <th>Možné hodnoty</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>level-seed</td>
                    <td>Seed světa podle kterého se vygeneruje svět na serveru, pokud před tím neposkytnete jiný. Pokud
                        tuto vlastnost nenastavíte, vybere se náhodné.</td>
                    <td>Jakékoli celé číslo</td>
                </tr>
                <tr>
                    <td>gamemode</td>
                    <td>Herní režim, ve kterém budou hráči, když se připojí</td>
                    <td>creative, survival, adventure, spectator</td>
                </tr>
                <tr>
                    <td>motd</td>
                    <td>Text, který hráči uvidí v seznamu serverů</td>
                    <td>Jakýkoliv text</td>
                </tr>
                <tr>
                    <td>pvp</td>
                    <td>Zdali mohou hráči spolu bojovat pomocí přímého poškození</td>
                    <td>true, false</td>
                </tr>
                <tr>
                    <td>difficulty</td>
                    <td>Úroveň obtížnosti</td>
                    <td>peaceful, easy, normal, hard</td>
                </tr>
                <tr>
                    <td>max-players</td>
                    <td>Maximální množství hráčů, pokud se naplní, server začne odmítat nová připojení</td>
                    <td>Jakékoli přirozené číslo</td>
                </tr>
                <tr>
                    <td>online-mode</td>
                    <td>Pokud vypnete, tak server nebude ověřovat přihlašovací údaje hráču, takže se budou moct připojit
                        hráči, kteří mají pirátské kopie minecraftu. VAROVÁNÍ: Bez ověření se můžou hráči připojit s
                        libovolným jménem, takže můžou předstírat, že jsou někým jiným.</td>
                    <td>true, false</td>
                </tr>
                <tr>
                    <td>view-distance</td>
                    <td>Vzdálenost po kterou bude svět posílán hráči. Pokud máte problémy s výkonem serveru, je dobré
                        tuto hodnotu snížit.</td>
                    <td>Jakékoli přirozené číslo</td>
                </tr>
                <tr>
                    <td>simulation-distance</td>
                    <td>Vzdálenost po kterou bude svět simulován (budou fungovat farmy, redstone, spawnovat se mobové).
                        Pokud máte problémy s výkonem serveru, je dobré tuto hodnotu snížit.</td>
                    <td>Jakékoli přirozené číslo</td>
                </tr>
                <tr>
                    <td>white-list</td>
                    <td>Pokud je zapnuto, povolí připojení jen hráčum napsaným ve souboru whitelist.txt</td>
                    <td>true, false</td>
                </tr>
                <tr>
                    <td>spawn-protection</td>
                    <td>Jak daleko od spawnu je svět chráněn od poničení, klidně změňte na 0 pokud chcete survival.</td>
                    <td>Jakékoli celé číslo větší než 0</td>
                </tr>
            </tbody>
        </table>
        <h2 id="8-připojte-se-k-serveru">8. Připojte se k serveru</h2>
        <p><em>TODO</em></p>
        <h2 id="9-umožněte-připojení-se-k-serveru-z-internetu">9. Umožněte připojení se k serveru z internetu</h2>
        <p>V tuto chvíli se můžete připojit k serveru pomocí vlastního počítače a pomocí počítačů ve stejné síti jako
            vy. Pokud vám to stačí, můžete nyní přestat a začít hrát. V opačném případě budete potřebovat </p>


    </div>
</div>
<footer class="footer">
    <div class="content has-text-centered">
        <p>
            <strong>Minecraft server tutoriál</strong> vytvořili <a href="https://github.com/JDX0">Jan Josefik</a>, <a
                href="https://github.com/JDX0">Tadeáš Erban</a> a <a href="https://github.com/JDX0">Tomáš Lesa</a>.
    </div>
</footer>

</html>